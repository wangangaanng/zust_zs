String.prototype.MD5=function(n){function r(n,r){return n<<r|n>>>32-r}function t(n,r){var t,u,o,e,f;return o=2147483648&n,e=2147483648&r,t=1073741824&n,u=1073741824&r,f=(1073741823&n)+(1073741823&r),t&u?2147483648^f^o^e:t|u?1073741824&f?3221225472^f^o^e:1073741824^f^o^e:f^o^e}function u(n,r,t){return n&r|~n&t}function o(n,r,t){return n&t|r&~t}function e(n,r,t){return n^r^t}function f(n,r,t){return r^(n|~t)}function i(n,o,e,f,i,c,a){return n=t(n,t(t(u(o,e,f),i),a)),t(r(n,c),o)}function c(n,u,e,f,i,c,a){return n=t(n,t(t(o(u,e,f),i),a)),t(r(n,c),u)}function a(n,u,o,f,i,c,a){return n=t(n,t(t(e(u,o,f),i),a)),t(r(n,c),u)}function g(n,u,o,e,i,c,a){return n=t(n,t(t(f(u,o,e),i),a)),t(r(n,c),u)}function h(n){for(var r,t=n.length,u=t+8,o=(u-u%64)/64,e=16*(o+1),f=Array(e-1),i=0,c=0;c<t;)r=(c-c%4)/4,i=c%4*8,f[r]=f[r]|n.charCodeAt(c)<<i,c++;return r=(c-c%4)/4,i=c%4*8,f[r]=f[r]|128<<i,f[e-2]=t<<3,f[e-1]=t>>>29,f}function v(n){var r,t,u="",o="";for(t=0;t<=3;t++)r=n>>>8*t&255,o="0"+r.toString(16),u+=o.substr(o.length-2,2);return u}var l,s,y,A,p,S,b,d,C,D=this,M=Array(),j=7,k=12,m=17,q=22,w=5,x=9,z=14,B=20,E=4,F=11,G=16,H=23,I=6,J=10,K=15,L=21;for(M=h(D),S=1732584193,b=4023233417,d=2562383102,C=271733878,l=0;l<M.length;l+=16)s=S,y=b,A=d,p=C,S=i(S,b,d,C,M[l+0],j,3614090360),C=i(C,S,b,d,M[l+1],k,3905402710),d=i(d,C,S,b,M[l+2],m,606105819),b=i(b,d,C,S,M[l+3],q,3250441966),S=i(S,b,d,C,M[l+4],j,4118548399),C=i(C,S,b,d,M[l+5],k,1200080426),d=i(d,C,S,b,M[l+6],m,2821735955),b=i(b,d,C,S,M[l+7],q,4249261313),S=i(S,b,d,C,M[l+8],j,1770035416),C=i(C,S,b,d,M[l+9],k,2336552879),d=i(d,C,S,b,M[l+10],m,4294925233),b=i(b,d,C,S,M[l+11],q,2304563134),S=i(S,b,d,C,M[l+12],j,1804603682),C=i(C,S,b,d,M[l+13],k,4254626195),d=i(d,C,S,b,M[l+14],m,2792965006),b=i(b,d,C,S,M[l+15],q,1236535329),S=c(S,b,d,C,M[l+1],w,4129170786),C=c(C,S,b,d,M[l+6],x,3225465664),d=c(d,C,S,b,M[l+11],z,643717713),b=c(b,d,C,S,M[l+0],B,3921069994),S=c(S,b,d,C,M[l+5],w,3593408605),C=c(C,S,b,d,M[l+10],x,38016083),d=c(d,C,S,b,M[l+15],z,3634488961),b=c(b,d,C,S,M[l+4],B,3889429448),S=c(S,b,d,C,M[l+9],w,568446438),C=c(C,S,b,d,M[l+14],x,3275163606),d=c(d,C,S,b,M[l+3],z,4107603335),b=c(b,d,C,S,M[l+8],B,1163531501),S=c(S,b,d,C,M[l+13],w,2850285829),C=c(C,S,b,d,M[l+2],x,4243563512),d=c(d,C,S,b,M[l+7],z,1735328473),b=c(b,d,C,S,M[l+12],B,2368359562),S=a(S,b,d,C,M[l+5],E,4294588738),C=a(C,S,b,d,M[l+8],F,2272392833),d=a(d,C,S,b,M[l+11],G,1839030562),b=a(b,d,C,S,M[l+14],H,4259657740),S=a(S,b,d,C,M[l+1],E,2763975236),C=a(C,S,b,d,M[l+4],F,1272893353),d=a(d,C,S,b,M[l+7],G,4139469664),b=a(b,d,C,S,M[l+10],H,3200236656),S=a(S,b,d,C,M[l+13],E,681279174),C=a(C,S,b,d,M[l+0],F,3936430074),d=a(d,C,S,b,M[l+3],G,3572445317),b=a(b,d,C,S,M[l+6],H,76029189),S=a(S,b,d,C,M[l+9],E,3654602809),C=a(C,S,b,d,M[l+12],F,3873151461),d=a(d,C,S,b,M[l+15],G,530742520),b=a(b,d,C,S,M[l+2],H,3299628645),S=g(S,b,d,C,M[l+0],I,4096336452),C=g(C,S,b,d,M[l+7],J,1126891415),d=g(d,C,S,b,M[l+14],K,2878612391),b=g(b,d,C,S,M[l+5],L,4237533241),S=g(S,b,d,C,M[l+12],I,1700485571),C=g(C,S,b,d,M[l+3],J,2399980690),d=g(d,C,S,b,M[l+10],K,4293915773),b=g(b,d,C,S,M[l+1],L,2240044497),S=g(S,b,d,C,M[l+8],I,1873313359),C=g(C,S,b,d,M[l+15],J,4264355552),d=g(d,C,S,b,M[l+6],K,2734768916),b=g(b,d,C,S,M[l+13],L,1309151649),S=g(S,b,d,C,M[l+4],I,4149444226),C=g(C,S,b,d,M[l+11],J,3174756917),d=g(d,C,S,b,M[l+2],K,718787259),b=g(b,d,C,S,M[l+9],L,3951481745),S=t(S,s),b=t(b,y),d=t(d,A),C=t(C,p);return 32==n?v(S)+v(b)+v(d)+v(C):v(b)+v(d)};