<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zghzbckj.manage.dao.AppBizArticleDao">
    
	<sql id="appBizArticleColumns">
		a.owid AS "owid",
		a.tpjj AS "tpjj",
		a.jjnr AS "jjnr",
		a.path AS "path",
		a.path_name AS "pathName",
		a.lmbh AS "lmbh",
		a.istop AS "istop",
		a.lmbt AS "lmbt",
		a.lmbh2 AS "lmbh2",
		a.lmbt2 AS "lmbt2",
		a.fbr AS "fbr",
		a.fbsj AS "fbsj",
		a.sxsj AS "sxsj",
		a.wzbt AS "wzbt",
		a.wzly AS "wzly",
		a.wzzt AS "wzzt",
		a.ydcs AS "ydcs",
		a.html_path AS "htmlPath",
		a.atta_mm AS "attaMm",
		a.memo AS "memo",
		a.sxh AS "sxh",
		a.createtime AS "createtime",
		a.creator AS "creator",
		a.creator_name AS "creatorName",
		a.lastupdate AS "lastupdate",
		a.updator AS "updator",
		a.updator_name AS "updatorName",
		a.ver AS "ver",
		a.vertime AS "vertime",
		a.dept_id AS "deptId",
		a.dept_path AS "deptPath",
		a.delflg AS "delflg",
		a.state AS "state",
		a.exp1 AS "exp1",
		a.exp2 AS "exp2",
		a.exp3 AS "exp3",
		a.exp4 AS "exp4",
		a.exp5 AS "exp5",
		a.exp6 AS "exp6",
		a.exp7 AS "exp7",
		a.exp8 AS "exp8",
		a.exp9 AS "exp9",
		a.exp10 AS "exp10"
	</sql>
	
	<sql id="appBizArticleJoins">
	</sql>
    
	<select id="get" resultType="com.zghzbckj.manage.entity.AppBizArticle">
		SELECT 
			<include refid="appBizArticleColumns"/>,a.wznr AS "wznr"
		FROM app_biz_article a
		<include refid="appBizArticleJoins"/>
		WHERE a.owid = #{owid}
	</select>

	<select id="getOneByEjLmbh" resultType="com.zghzbckj.manage.entity.AppBizArticle">
		SELECT
		<include refid="appBizArticleColumns"/>,a.wznr AS "wznr"
		FROM app_biz_article a
		<include refid="appBizArticleJoins"/>
		<where>
			a.lmbh2=#{lmbh2}
			<if test="wzzt != null and wzzt != ''">
				AND a.wzzt = #{wzzt}
			</if>
		</where>
		ORDER BY a.istop DESC,a.createtime DESC
	</select>
	
	<select id="findList" resultType="com.zghzbckj.manage.entity.AppBizArticle">
		SELECT 
			<include refid="appBizArticleColumns"/>,a.wznr AS "wznr"
		FROM app_biz_article a
		<include refid="appBizArticleJoins"/>
		<where>
			a.sxsj &gt; SYSDATE()
			<if test="fbsj != null and fbsj != ''">
				AND a.fbsj = #{fbsj}
			</if>
			<if test="wzbt != null and wzbt != ''">
				AND a.wzbt LIKE 
					<if test="dbName == 'oracle'">'%'||#{wzbt}||'%'</if>
					<if test="dbName == 'mssql'">'%'+#{wzbt}+'%'</if>
					<if test="dbName == 'mysql'">concat('%',#{wzbt},'%')</if>
			</if>
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>

	<select id="findMapByShort" resultType="com.zghzbckj.manage.entity.AppBizArticle">
		SELECT
		a.wzbt AS "wzbt",a.owid AS "owid",a.fbsj AS "fbsj",a.jjnr AS "jjnr",a.tpjj AS "tpjj"
		FROM app_biz_article a
		<include refid="appBizArticleJoins"/>
		<where>
			a.sxsj &gt; SYSDATE()
			<if test="lmbh2 != null and lmbh2 != ''">
				AND a.lmbh2 = #{lmbh2}
			</if>
			<if test="wzzt != null and wzzt != ''">
				AND a.wzzt = #{wzzt}
			</if>
		</where>
				ORDER BY ${orderBy}
	</select>

		<select id="findListByMap" resultType="com.zghzbckj.manage.entity.AppBizArticle">
	        SELECT
			<include refid="appBizArticleColumns"/>
		FROM app_biz_article a
		<include refid="appBizArticleJoins"/>
		<where>
			<if test="wzbt != null and wzbt != ''">
				AND a.wzbt LIKE concat('%',#{wzbt},'%')
			</if>
            <if test="fbsj1 != null and fbsj1 != ''">
                AND a.fbsj &gt; #{fbsj1}
            </if>
            <if test="fbsj2 != null and fbsj2 != ''">
                AND a.fbsj &lt; #{fbsj2}
            </if>
			<if test="sxsj1 != null and sxsj1 != ''">
				AND a.sxsj &gt; #{sxsj1}
			</if>
			<if test="sxsj2 != null and sxsj2 != ''">
				AND a.sxsj &lt; #{sxsj2}
			</if>
            <if test="lmbh != null and lmbh != ''">
                AND a.lmbh = #{lmbh}
            </if>
            <if test="lmbh2 != null and lmbh2 != ''">
                AND a.lmbh2 = #{lmbh2}
            </if>
			<if test="wzly != null and wzly != ''">
				AND a.wzly = LIKE concat('%',#{wzly},'%')
			</if>
            <if test="fbr != null and fbr != ''">
                AND a.fbr = #{fbr}
            </if>
			<if test="wzzt != null and wzzt != ''">
				AND a.wzzt = #{wzzt}
			</if>
		</where>
		<choose>
			<when test="orderBy != null and orderBy != ''">
				ORDER BY ${orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	<select id="findAllList" resultType="com.zghzbckj.manage.entity.AppBizArticle">
		SELECT 
			<include refid="appBizArticleColumns"/>
		FROM app_biz_article a
		<include refid="appBizArticleJoins"/>
		<where>
			
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<insert id="insert">
		INSERT INTO app_biz_article(
			owid,
			tpjj,
			jjnr,
			istop,
			path,
			path_name,
			lmbh,
			lmbt,
			lmbh2,
			lmbt2,
			fbr,
			fbsj,
			sxsj,
			wzbt,
			wzly,
			wznr,
			wzzt,
			ydcs,
			html_path,
			atta_mm,
			memo,
			createtime,
			creator,
			creator_name,
			lastupdate,
			updator,
			updator_name,
			ver,
			vertime,
			dept_id,
			dept_path,
			delflg,
			state,
			exp1,
			exp2,
			exp3,
			exp4,
			exp5,
			exp6,
			exp7,
			exp8,
			exp9,
			exp10
		) VALUES (
			#{owid},
			#{tpjj},
			#{jjnr},
			#{istop},
			#{path},
			#{pathName},
			#{lmbh},
			#{lmbt},
			#{lmbh2},
			#{lmbt2},
			#{fbr},
			#{fbsj},
			#{sxsj},
			#{wzbt},
			#{wzly},
			#{wznr},
			#{wzzt},
			#{ydcs},
			#{htmlPath},
			#{attaMm},
			#{memo},
			#{createtime},
			#{creator},
			#{creatorName},
			#{lastupdate},
			#{updator},
			#{updatorName},
			#{ver},
			#{vertime},
			#{deptId},
			#{deptPath},
			#{delflg},
			#{state},
			#{exp1},
			#{exp2},
			#{exp3},
			#{exp4},
			#{exp5},
			#{exp6},
			#{exp7},
			#{exp8},
			#{exp9},
			#{exp10}
		)
	</insert>
	
	<update id="update">
		UPDATE app_biz_article SET 	
			owid = #{owid},
			tpjj = #{tpjj},
			jjnr = #{jjnr},
			istop  = #{istop},
			path = #{path},
			path_name = #{pathName},
			lmbh = #{lmbh},
			lmbt = #{lmbt},
			lmbh2 = #{lmbh2},
			lmbt2 = #{lmbt2},
			fbr = #{fbr},
			fbsj = #{fbsj},
			sxsj = #{sxsj},
			wzbt = #{wzbt},
			wzly = #{wzly},
			wznr = #{wznr},
			wzzt = #{wzzt},
			ydcs = #{ydcs},
			html_path = #{htmlPath},
			atta_mm = #{attaMm},
			memo = #{memo},
			lastupdate = #{lastupdate},
			updator = #{updator},
			updator_name = #{updatorName},
			ver = #{ver},
			vertime = #{vertime},
			dept_id = #{deptId},
			dept_path = #{deptPath},
			delflg = #{delflg},
			state = #{state},
			exp1 = #{exp1},
			exp2 = #{exp2},
			exp3 = #{exp3},
			exp4 = #{exp4},
			exp5 = #{exp5},
			exp6 = #{exp6},
			exp7 = #{exp7},
			exp8 = #{exp8},
			exp9 = #{exp9},
			exp10 = #{exp10}
		WHERE owid = #{owid}
	</update>
	
	<delete id="delete">
		DELETE FROM app_biz_article
		WHERE owid = #{owid}
	</delete>
	
</mapper>